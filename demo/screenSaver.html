<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>碰撞运动</title>
<style>
div{width:140px; height:140px;  border-radius:50%; position:absolute; opacity:0.7; filter:after(opacity:70);}
</style>
<script>
function rnd(n,m){
	return parseInt(n+Math.random()*(m-n));
}
window.onload=function(){
	var oBox=document.getElementById('box');
	for(var i=0;i<15;i++){
		var oDiv=document.createElement('div');
		oDiv.style.background='rgb('+rnd(0,256)+','+rnd(0,256)+','+rnd(0,256)+')';
		document.body.appendChild(oDiv);
		oDiv.style.left=rnd(0,1000)+'px';
		oDiv.style.top=rnd(0,1000)+'px';
	}
	var aDiv=document.getElementsByTagName('div');
	for(var i=0;i<aDiv.length;i++){
		move(aDiv[i]);
	}
	function move(obj){
		var l=obj.offsetLeft;
		var t=obj.offsetTop;
		var iSpeedX=rnd(5,13);
		var iSpeedY=rnd(5,13);
		setInterval(function(){
			l+=iSpeedX;
			t+=iSpeedY;
			if(l<0){
				l=0;
				iSpeedX*=-1;
			}else if(l>document.documentElement.clientWidth-obj.offsetWidth){
				l=document.documentElement.clientWidth-obj.offsetWidth;
				iSpeedX*=-1;
			}
			if(t<0){
				t=0;
				iSpeedY*=-1;
			}else if(t>document.documentElement.clientHeight-obj.offsetHeight){
				t=document.documentElement.clientHeight-obj.offsetHeight;
				iSpeedY*=-1;
			}
			obj.style.left=l+'px';
			obj.style.top=t+'px';
		},30);
	}
	
};
</script>
</head>

<body>
<div id="box"></div>
</body>
</html>
